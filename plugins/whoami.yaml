apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: whoami
spec:
  version: v0.1.0
  homepage: https://github.com/mollonado/kubectl-whoami
  shortDescription: Display current Kubernetes user identity
  description: |
    kubectl-whoami displays your current Kubernetes identity including username,
    groups, and the current context you're using.
    
    This plugin uses the Kubernetes SelfSubjectReview API to retrieve your
    authentication information, which works with any authentication method
    (certificates, tokens, OIDC, etc.).
    
    This is useful for:
    - Verifying your authentication status
    - Checking which groups you belong to for RBAC troubleshooting
    - Confirming you're using the correct context
    - Quick identity verification before running sensitive operations

    Usage:

      Display your current identity:
      $ kubectl whoami

  caveats: |
    Requires jq to be installed for JSON parsing
  platforms:
  - selector:
      matchExpressions:
      - key: os
        operator: In
        values:
        - darwin
        - linux
    uri: https://github.com/mollonado/kubectl-whoami/archive/v0.1.0.tar.gz
    sha256: eab554a0801a0aaaecff0c69c295b2303c2640f6a10202aedbcd8221cadb4aa1
    files:
    - from: kubectl-whoami-0.1.0/kubectl-whoami
      to: .
    - from: kubectl-whoami-0.1.0/README.md
      to: .
    bin: kubectl-whoami
